
<div style="display: none;">
<svg display="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" xml:space="preserve">
  <symbol height="17" viewBox="0 0 576 512" id="user_statistics">
    <path fill="currentColor" d="M510.62 92.63C516.03 94.74 521.85 96 528 96c26.51 0 48-21.49 48-48S554.51 0 528 0s-48 21.49-48 48c0 2.43.37 4.76.71 7.09l-95.34 76.27c-5.4-2.11-11.23-3.37-17.38-3.37s-11.97 1.26-17.38 3.37L255.29 55.1c.35-2.33.71-4.67.71-7.1 0-26.51-21.49-48-48-48s-48 21.49-48 48c0 4.27.74 8.34 1.78 12.28l-101.5 101.5C56.34 160.74 52.27 160 48 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-4.27-.74-8.34-1.78-12.28l101.5-101.5C199.66 95.26 203.73 96 208 96c6.15 0 11.97-1.26 17.38-3.37l95.34 76.27c-.35 2.33-.71 4.67-.71 7.1 0 26.51 21.49 48 48 48s48-21.49 48-48c0-2.43-.37-4.76-.71-7.09l95.32-76.28zM400 320h-64c-8.84 0-16 7.16-16 16v160c0 8.84 7.16 16 16 16h64c8.84 0 16-7.16 16-16V336c0-8.84-7.16-16-16-16zm160-128h-64c-8.84 0-16 7.16-16 16v288c0 8.84 7.16 16 16 16h64c8.84 0 16-7.16 16-16V208c0-8.84-7.16-16-16-16zm-320 0h-64c-8.84 0-16 7.16-16 16v288c0 8.84 7.16 16 16 16h64c8.84 0 16-7.16 16-16V208c0-8.84-7.16-16-16-16zM80 352H16c-8.84 0-16 7.16-16 16v128c0 8.84 7.16 16 16 16h64c8.84 0 16-7.16 16-16V368c0-8.84-7.16-16-16-16z"></path>
  </symbol>

  <symbol height="17" viewBox="0 0 416 512" id="program_activity">
    <path fill="currentColor" d="M272 96c26.51 0 48-21.49 48-48S298.51 0 272 0s-48 21.49-48 48 21.49 48 48 48zM113.69 317.47l-14.8 34.52H32c-17.67 0-32 14.33-32 32s14.33 32 32 32h77.45c19.25 0 36.58-11.44 44.11-29.09l8.79-20.52-10.67-6.3c-17.32-10.23-30.06-25.37-37.99-42.61zM384 223.99h-44.03l-26.06-53.25c-12.5-25.55-35.45-44.23-61.78-50.94l-71.08-21.14c-28.3-6.8-57.77-.55-80.84 17.14l-39.67 30.41c-14.03 10.75-16.69 30.83-5.92 44.86s30.84 16.66 44.86 5.92l39.69-30.41c7.67-5.89 17.44-8 25.27-6.14l14.7 4.37-37.46 87.39c-12.62 29.48-1.31 64.01 26.3 80.31l84.98 50.17-27.47 87.73c-5.28 16.86 4.11 34.81 20.97 40.09 3.19 1 6.41 1.48 9.58 1.48 13.61 0 26.23-8.77 30.52-22.45l31.64-101.06c5.91-20.77-2.89-43.08-21.64-54.39l-61.24-36.14 31.31-78.28 20.27 41.43c8 16.34 24.92 26.89 43.11 26.89H384c17.67 0 32-14.33 32-32s-14.33-31.99-32-31.99z" class=""></path>
  </symbol>

  <symbol height="17" viewBox="0 0 576 512" id="sponsor_main">
    <path fill="currentColor" d="M576 240c0-23.63-12.95-44.04-32-55.12V32.01C544 23.26 537.02 0 512 0c-7.12 0-14.19 2.38-19.98 7.02l-85.03 68.03C364.28 109.19 310.66 128 256 128H64c-35.35 0-64 28.65-64 64v96c0 35.35 28.65 64 64 64h33.7c-1.39 10.48-2.18 21.14-2.18 32 0 39.77 9.26 77.35 25.56 110.94 5.19 10.69 16.52 17.06 28.4 17.06h74.28c26.05 0 41.69-29.84 25.9-50.56-16.4-21.52-26.15-48.36-26.15-77.44 0-11.11 1.62-21.79 4.41-32H256c54.66 0 108.28 18.81 150.98 52.95l85.03 68.03a32.023 32.023 0 0 0 19.98 7.02c24.92 0 32-22.78 32-32V295.13C563.05 284.04 576 263.63 576 240zm-96 141.42l-33.05-26.44C392.95 311.78 325.12 288 256 288v-96c69.12 0 136.95-23.78 190.95-66.98L480 98.58v282.84z" class=""></path>
  </symbol>

  <symbol height="17" viewBox="0 0 576 512" id="sponsor_main2">
    <path fill="currentColor" d="M544 448c0 9.22-7.08 32-32 32a32 32 0 0 1-20-7l-85-68a242.82 242.82 0 0 0-119-50.79V125.84a242.86 242.86 0 0 0 119-50.79L492 7a31.93 31.93 0 0 1 20-7c25 0 32 23.26 32 32z"></path>
    <path fill="currentColor" d="M544 184.88v110.24a63.47 63.47 0 0 0 0-110.24zM0 192v96a64 64 0 0 0 64 64h33.7a243 243 0 0 0-2.18 32 253.32 253.32 0 0 0 25.56 110.94c5.19 10.69 16.52 17.06 28.4 17.06h74.28c26.05 0 41.69-29.84 25.9-50.56A127.35 127.35 0 0 1 223.51 384a121 121 0 0 1 4.41-32H256V128H64a64 64 0 0 0-64 64z"></path>
  </symbol>

  <symbol height="17" viewBox="0 0 576 512" id="drug_main">
    <path fill="currentColor" d="M112 32C50.1 32 0 82.1 0 144v224c0 61.9 50.1 112 112 112s112-50.1 112-112V144c0-61.9-50.1-112-112-112zm48 224H64V144c0-26.5 21.5-48 48-48s48 21.5 48 48v112zm139.7-29.7c-3.5-3.5-9.4-3.1-12.3.8-45.3 62.5-40.4 150.1 15.9 206.4 56.3 56.3 143.9 61.2 206.4 15.9 4-2.9 4.3-8.8.8-12.3L299.7 226.3zm229.8-19c-56.3-56.3-143.9-61.2-206.4-15.9-4 2.9-4.3 8.8-.8 12.3l210.8 210.8c3.5 3.5 9.4 3.1 12.3-.8 45.3-62.6 40.5-150.1-15.9-206.4z"></path>
  </symbol>


  <symbol height="17" viewBox="0 0 488.976 401.98" enable-background="new 0 0 488.976 401.98" id="survey">
	<path fill="currentColor" stroke="#3C7EC1" stroke-width="8" stroke-miterlimit="10" d="M438.152,380.41H49.643
			c-13.257,0-24.042-10.785-24.042-24.043V47.431c0-13.257,10.785-24.042,24.042-24.042h388.511
			c13.258,0,24.043,10.785,24.043,24.042v308.937C462.195,369.625,451.41,380.41,438.152,380.41z M49.643,43.389
			c-2.229,0-4.042,1.813-4.042,4.042v308.937c0,2.229,1.813,4.043,4.042,4.043h388.511c2.229,0,4.043-1.813,4.043-4.043V47.431
			c0-2.229-1.814-4.042-4.043-4.042H49.643z"/>
	<path fill="currentColor" stroke="#3C7EC1" stroke-width="8" stroke-miterlimit="10" d="M438.015,109.488H51.552
			c-13.298,0-24.118-10.786-24.118-24.043V47.431c0-13.257,10.819-24.042,24.118-24.042h386.461
			c13.299,0,24.119,10.785,24.119,24.042v38.015C462.132,98.702,451.312,109.488,438.015,109.488z M51.552,43.389
			c-2.271,0-4.118,1.813-4.118,4.042v38.015c0,2.229,1.847,4.043,4.118,4.043h386.461c2.271,0,4.119-1.813,4.119-4.043V47.431
			c0-2.229-1.848-4.042-4.119-4.042H51.552z"/>
	<path fill="currentColor" stroke="#3C7EC1" stroke-width="8" stroke-miterlimit="10" d="M81.627,74.6c-2.63,0-5.21-1.07-7.07-2.931
			c-1.86-1.87-2.93-4.439-2.93-7.08c0-2.63,1.07-5.199,2.93-7.069c1.86-1.86,4.44-2.931,7.07-2.931s5.21,1.07,7.07,2.931
			c1.86,1.87,2.93,4.439,2.93,7.069c0,2.641-1.07,5.21-2.93,7.08C86.837,73.529,84.257,74.6,81.627,74.6z"/>
	<path fill="currentColor" stroke="#3C7EC1" stroke-width="8" stroke-miterlimit="10" d="M130.388,74.6c-2.63,0-5.21-1.07-7.07-2.931
			c-1.86-1.87-2.93-4.439-2.93-7.08c0-2.63,1.07-5.21,2.93-7.069c1.86-1.86,4.44-2.931,7.07-2.931c2.63,0,5.21,1.07,7.07,2.931
			c1.86,1.859,2.93,4.439,2.93,7.069c0,2.641-1.07,5.21-2.93,7.08C135.598,73.529,133.018,74.6,130.388,74.6z"/>
	<path fill="currentColor" stroke="#3C7EC1" stroke-width="8" stroke-miterlimit="10" d="M175.007,76.439c-2.63,0-5.21-1.07-7.07-2.931
			c-1.87-1.859-2.93-4.439-2.93-7.069s1.06-5.21,2.93-7.07c1.86-1.86,4.43-2.93,7.07-2.93c2.63,0,5.21,1.069,7.07,2.93
			c1.86,1.86,2.93,4.44,2.93,7.07s-1.07,5.21-2.93,7.069C180.208,75.37,177.638,76.439,175.007,76.439z"/>
	<path fill="currentColor" d="M381.451,294.66c-5.363,0-10.711-2.109-14.701-6.296l-75.033-78.753
				c-7.734-8.118-7.426-20.965,0.693-28.698c8.115-7.735,20.965-7.421,28.697,0.694l75.035,78.75
				c7.734,8.121,7.424,20.966-0.693,28.699C391.521,292.801,386.479,294.66,381.451,294.66z"/>
	<path fill="currentColor" d="M304.554,292.797c-5.36,0-10.709-2.109-14.701-6.296c-7.732-8.119-7.422-20.965,0.697-28.698
				l78.759-75.03c8.116-7.731,20.967-7.424,28.698,0.696c7.734,8.118,7.422,20.965-0.697,28.697l-78.758,75.027
				C314.625,290.941,309.585,292.797,304.554,292.797z"/>
	<path fill="currentColor" d="M128.1,297.27L128.1,297.27c-5.385,0-10.547-2.143-14.355-5.947l-32.094-32.102
			c-7.928-7.925-7.925-20.777,0.002-28.705c7.926-7.926,20.781-7.926,28.706,0.002l17.738,17.743l69.619-69.615
			c7.926-7.924,20.781-7.925,28.705,0c7.928,7.929,7.928,20.782,0,28.708l-83.97,83.969
			C138.647,295.131,133.484,297.27,128.1,297.27z"/>
  </symbol>

  <symbol height="17" viewBox="0 0 488.976 401.98" enable-background="new 0 0 488.976 401.98" id="refill-order">
	<path fill="currentColor" d="M512.941,63.886c-9.109-4.102-19.775-2.507-27.285,4.08l-34.68,30.855
	c-47.545-55.986-117.291-88.249-190.741-88.23C119.403,10.461,5.131,124.522,5,265.354
	C4.869,406.187,118.931,520.46,259.763,520.591c108.184,0.1,204.657-68.075,240.682-170.085
	c4.648-13.309-2.373-27.865-15.682-32.513c-13.311-4.648-27.865,2.374-32.514,15.683
	c-37.604,106.206-154.182,161.82-260.388,124.218C85.656,420.292,30.043,303.711,67.645,197.506
	C96.523,115.943,173.712,61.469,260.236,61.591c58.942-0.017,114.905,25.912,153,70.89l-42.33,37.485
	c-7.988,7.067-10.736,18.358-6.885,28.305c3.783,9.809,13.201,16.289,23.715,16.32h114.75c14.082,0,25.5-11.417,25.5-25.5v-102
	C527.965,77.072,522.078,67.994,512.941,63.886z"/>
	<path fill="currentColor" d="M155.541,185.448c-19.322,24.447-15.169,59.939,9.293,79.277l119.323,94.3
	c24.449,19.327,59.957,15.177,79.279-9.282c19.334-24.464,15.18-59.958-9.279-79.288l-119.334-94.3
	C210.365,156.828,174.87,160.981,155.541,185.448z M321.148,266.961l13.063,10.32c17.658,13.947,20.328,39.965,5.98,58.119
	c-0.893,1.126-1.836,2.174-2.811,3.187c-2.332,1.956-2.922-1.181-2.922-1.181l-0.07-0.034c1.297-11.14,2.467-40.606-16.277-67.641
	l0.105-0.043c0,0-0.682-1.485-0.037-2.216C318.826,266.743,320.207,266.221,321.148,266.961z M229.804,187.833l20.455,16.162
	c0.408,0.304,0.84,0.564,1.244,0.885l25.522,20.166l-52.253,68.504l-48.318-38.193c-18.649-14.733-21.817-41.802-7.083-60.441
	C184.106,176.267,211.166,173.101,229.804,187.833z"/>
  </symbol>

  <symbol height="17" viewBox="0 0 481 602" enable-background="new 0 0 481 602" id="new-order">
    <path fill="currentColor" d="M449 12.599H81.8c-8.284 0-15 6.716-15 15v352.2H20.6c-8.284 0-15 6.716-15 15 0 53.267 43.334 96.602 96.6 96.602h265.2c53.266 0 96.6-43.335 96.6-96.602v-367.2c0-8.284-6.716-15-15-15zm-15 382.2c0 36.725-29.876 66.602-66.6 66.602-36.725 0-66.601-29.878-66.601-66.602 0-8.284-6.716-15-15-15h-189v-337.2H434v352.2z"></path>
    <path fill="currentColor" d="M245 193.699h122.4v35H245zM163.4 193.699h40.8v35h-40.8zM245 275.299h122.4v35H245zM163.4 275.299h40.8v35h-40.8zM245 112.099h122.4v35H245zM163.4 112.099h40.8v35h-40.8z"></path>
  </symbol>



</svg>



<style>

svg {
  /*width: 32px;
  height: 32px;
  max-width: 24px;
    max-height: 24px;*/
    fill: currentColor;
    height: 1em;
    width: 1em;
    display: inline-block;
}
svg:hover {
  fill: currentColor;
}

{{--
/*
.stats-exp-wrapper:nth-child(odd) { background-color: #f2f2f2; }
.stats-exp-wrapper:nth-child(even) { background-color: #fff; }

.stats-exp-col-row .action-buttons_txt-eml-cl { margin-left: auto; }
.stats-exp-col-row .action-buttons_txt-eml-cl button.ab-text_ { position: relative; border: solid 1px transparent !important; color: #3e7bc4; }
.stats-exp-col-row .action-buttons_txt-eml-cl button.ab-email_ { position: relative; border: solid 1px transparent !important; color: #3e7bc4; }
.stats-exp-col-row .action-buttons_txt-eml-cl button.ab-call_ { position: relative; border: solid 1px transparent !important; color: #3e7bc4; }

.stats-exp-col-row .action-buttons_txt-eml-cl button { max-width: 40px; padding: 0px; margin-bottom: 0px; }
.stats-exp-col-row .action-buttons_txt-eml-cl button .btn-ico_ {font-size: 14px;font-weight: 600 !important;border: solid 2px transparent;padding: 2px 2px;width: 24px;height: 24px;line-height: 14px; }
.stats-exp-col-row .action-buttons_txt-eml-cl button .btn-txt_ { margin-top: 3px; }

.stats-exp-col-row .action-buttons_txt-eml-cl button:hover .btn-ico_ { font-weight: 400 !important; }
.stats-exp-col-row .action-buttons_txt-eml-cl button:hover .btn-txt_ { font-weight: 600 !important; }

.stats-exp-col-row .action-buttons_txt-eml-cl button.ab-text_ .btn-ico_ { border: solid 2px #d69812; line-height: 15px; }
.stats-exp-col-row .action-buttons_txt-eml-cl button.ab-email_ .btn-ico_ { border: solid 2px #9bc90d; }
.stats-exp-col-row .action-buttons_txt-eml-cl button.ab-call_ .btn-ico_ { border: solid 2px #7964b9; line-height: 17px; }


.stats-exp-col-row .action-buttons_txt-eml-cl button.ab-text_:hover .btn-ico_ { background-color: #d69812; color: #fff; }
.stats-exp-col-row .action-buttons_txt-eml-cl button.ab-email_:hover .btn-ico_ { background-color: #9bc90d; color: #fff !important;}
.stats-exp-col-row .action-buttons_txt-eml-cl button.ab-call_:hover .btn-ico_ { background-color: #7964b9; color: #fff !important; }


*/

--}}


ul#sidebar-menu li.comp-rate-drug-cat-menu {  }
ul#sidebar-menu li.comp-rate-drug-cat-menu > a { padding-left: 3px; }
ul#sidebar-menu li.comp-rate-drug-cat-menu ul.submenu_ver-l1 { background-color: #fff; }
ul#sidebar-menu li.comp-rate-drug-cat-menu ul.submenu_ver-l1 > li { border-bottom: 0px; text-transform: uppercase; background-color: #fff; color: #3e7bc4; padding: 2px 2px 2px 4px;}
ul#sidebar-menu li.comp-rate-drug-cat-menu ul.submenu_ver-l1 > li .exp-col-ico { position: relative; padding-left:17px; }
ul#sidebar-menu li.comp-rate-drug-cat-menu ul.submenu_ver-l1 > li .exp-col-ico:before { position: absolute;top: 0px;left: 0px;border: solid 1px #3e7bc4;width: 14px;height: 14px;border-radius: 50%;text-align: center;line-height: 11px;font-size: 9px;}
ul#sidebar-menu li.comp-rate-drug-cat-menu ul.submenu_ver-l1 > li .exp-col-ico[aria-expanded="false"]:before { content: '\2795'; content: '\253D';}
ul#sidebar-menu li.comp-rate-drug-cat-menu ul.submenu_ver-l1 > li .exp-col-ico[aria-expanded="true"]:before { content: '\2796'; content: '\268A';}

ul#sidebar-menu li.comp-rate-drug-cat-menu ul.submenu-ver-l2 { width: 100%; background-color: #fff;}
ul#sidebar-menu li.comp-rate-drug-cat-menu ul.submenu-ver-l2 > li {cursor: pointer;position: relative;white-space: nowrap;text-transform: capitalize;display: inline-flex;width: 100%;border: 0px;padding: 0px;color: #242424;font-weight: 500;}
ul#sidebar-menu li.comp-rate-drug-cat-menu ul.submenu-ver-l2 > li:hover { background-color: #afd13f; }
ul#sidebar-menu li.comp-rate-drug-cat-menu ul.submenu-ver-l2 > li.active { background-color: #afd13f; }
ul#sidebar-menu li.comp-rate-drug-cat-menu ul.submenu-ver-l2 > li .drug-subcat-name {margin-right: 1px;max-width: 100%;white-space: break-spaces;padding: 2px;flex-grow: 2;}
ul#sidebar-menu li.comp-rate-drug-cat-menu ul.submenu-ver-l2 > li .dsn-counter {color: #ec1717;font-weight: 600;background-color: #fff;padding-left: 6px;padding: 2px;}


ul#sidebar-menu li.comp-rate-drug-cat-menu div.submenu-hor-l3 { display: none; padding-left: 6px; position: absolute; top: 0px; left: 100%; width: 100%;width: auto; z-index: 9999; min-width: 240px;}
ul#sidebar-menu li.comp-rate-drug-cat-menu ul.submenu-ver-l2 > li:hover div.submenu-hor-l3 { display: block; }
ul#sidebar-menu li.comp-rate-drug-cat-menu div.submenu-hor-l3 > ul { background-color: #fff; border: solid 2px #fff; border-radius: 3px; box-shadow: 0px 4px 7px 1px #ccc; }
ul#sidebar-menu li.comp-rate-drug-cat-menu div.submenu-hor-l3 > ul li { cursor: pointer; display: flex; justify-content: flex-end;width: 100%; border-bottom: solid 1px #cecece; padding: 2px; }
ul#sidebar-menu li.comp-rate-drug-cat-menu div.submenu-hor-l3 > ul li a { margin: 0px; padding: 0px; }
ul#sidebar-menu li.comp-rate-drug-cat-menu div.submenu-hor-l3 > ul li .p-score { width: 86px;text-align: right;color: #ec1717;font-weight: 600;padding: 2px;text-transform: uppercase;padding-right: 10px;}
ul#sidebar-menu li.comp-rate-drug-cat-menu div.submenu-hor-l3 > ul li .p-name { text-align: left; color: #242424; font-weight: 500; margin-left: auto;padding: 2px;text-transform: uppercase; font-weight: 500;flex-grow: 1; text-align: left;}
ul#sidebar-menu li.comp-rate-drug-cat-menu div.submenu-hor-l3 > ul li:hover { background-color: #afd13f; }
ul#sidebar-menu li.comp-rate-drug-cat-menu div.submenu-hor-l3 > ul li:hover .p-name { font-weight: 600; }


ul#sidebar-menu li.comp-rate-drug-cat-menu div.submenu-hor-l3 > ul li:first-child { background-color: #3e7bc4; color: #fff; }
ul#sidebar-menu li.comp-rate-drug-cat-menu div.submenu-hor-l3 > ul li:first-child .p-score {background-color: #3e7bc4;color: #fff;font-weight: 500 !important;white-space: normal;text-align: left;}
ul#sidebar-menu li.comp-rate-drug-cat-menu div.submenu-hor-l3 > ul li:first-child .p-name { background-color: #3e7bc4; color: #fff; font-weight: 500 !important;}
ul#sidebar-menu li.comp-rate-drug-cat-menu div.submenu-hor-l3 > ul li:last-child { border-bottom: 0px; }

</style>
</div>

<style>
	table tr th .download-hd-pl-mn-btn { position: relative; }

	table tr th .download-hd-pl-mn-btn { display: inline-block;font: normal normal normal 14px/1 FontAwesome;font-size: inherit;text-rendering: auto;-webkit-font-smoothing: antialiased;-moz-osx-font-smoothing: grayscale;content: "\f067";color: #fff;background-color: #3e7bc4;text-align: center;font-size: 16px;position: absolute;top: 5px;right: 6px;width: 16px;height: 16px;line-height: 17px;border-radius: 2px;margin-top: -1px; }

	table tr th .download-hd-pl-mn-btn[aria-expanded="false"]:before { content: "\f067"; }

	table tr th .download-hd-pl-mn-btn[aria-expanded="true"]:before { content: "\f068"; background-color: #3e7bc4;}
</style>

<ul id="sidebar-menu" class="nav nav_state flex-md-column flex-row justify-content-between">
    
    <li class="nav-item comp-rate-drug-cat-menu">
		<a class="nav-link pl-7 leftCollaps" href="javascript:void(0);" data-toggle="collapse" data-target="#comp-rate-drugcat-list" aria-expanded="false">
			<span class="fa fa-list-ul item-icon_"></span>
			<span class="item-text_">Survey Reports</span>
		</a>
		<span class="dropdown-trigger c-dib_ collapsed leftCollaps" data-toggle="collapse" data-target="#comp-rate-drugcat-list" aria-expanded="false" aria-controls="collapseExample">
			<span class="fa fa-caret"></span>
		</span>
		<div class="collapse" id="comp-rate-drugcat-list">            
            <ul class="submenu_ver-l1">

            @foreach($surveys as $category)
                <li>
                    <div class="trow_ c-dib_ collapsed exp-col-ico cur-pointer weight_500 fs-14_ txt-blue" data-toggle="collapse" data-target="#category{{$category->id}}" aria-expanded="false">{{$category->title}}</div>
            
                    <ul class="wd-100p submenu-ver-l2 collapse" id="category{{$category->id}}">
                            @foreach($category->survey as $survey)
                                        <li class="subMenu-hover" id="survey{{$survey->id}}">
                                            <span onclick="showSurveyReport('{{$category->title}}','{{$survey->title}}',{{$survey->id}},{{(@$scounts[$survey->id]>0?@$scounts[$survey->id]:0)}});" class="drug-subcat-name">{{$survey->title}}</span> 
                                            <span class="dsn-counter ">({{(@$scounts[$survey->id]>0?@$scounts[$survey->id]:0)}})</span>
                                                    <div class="submenu-hor-l3" id="show-survey{{$survey->id}}"></div>
										</li>
                            @endforeach                        
                    </ul>
                </li>
            @endforeach
            </ul>           
        </div>
	</li>

</ul>


<script>

function showSurveyReport(categoryTitle,surveyTitle,surveyId,surveyCount)
{
	var reportHtml = `<div class="row" style="border-bottom: solid 1px #cecece;"><div class="col-sm-12"><h4 class="elm-left fs-24_ mb-4_" id="category_title_block">`+categoryTitle+`</h4></div></div><div class="row"><div class="col-sm-12"><div class="row"><div class="col-sm-12"><div class="row mt-7_ mb-7_"><div class="col-sm-12"><div class="elm-left c-mr-4_ "><span class="txt-blue weight_700 tt_uc_" id="survey_title_block">`+surveyTitle+`</span><span class="txt-red weight_600" style="cursor: pointer;" id="survey_response_count">(`+surveyCount+`)</span></div></div></div></div></div>`;
	
	/* loop start here */
	//reportHtml += `<div class="row pr-14_ pl-14_ mt-7_"><div class="col-sm-12 pl-0 pr-0 table-responsive"><table class="table bordered hd-row-blue-shade-rounded" style="min-width: 700px;"><thead><tr class="weight_500-force-childs bg-blue" role="row"><th class="txt-wht tt_uc_">Are You Satisfied With Your Treatment?</th><th class="txt-wht pos-rel_" style="width:120px;"><span class="elm-left">Download</span><span class="elm-right download-hd-pl-mn-btn cur-pointer weight_600 fs-16_ txt-center" data-target="#expand-collpase-tbody1" data-toggle="collapse" aria-expanded="true" style="width: 16px;height: 16px;"></span></th></tr></thead><tbody id="expand-collpase-tbody1" class="collapse show"><tr><td><div class="elm-left c-mr-4_ "><span class="txt-blue weight_600">13%</span><span class="txt-red weight_600">NO</span><span class="txt-black-24 weight_600">(8)</span></div></td><td></td></tr></table></div></div>`;
    /* loop end here */
	var responseText = "";
	$.ajax({
		url: '{{url('/get-survey-report')}}',
		data: 'id='+surveyId,
		method: 'get',
		success: function(result){
			//responseText = JSON.stringify(result);
			reportHtml +=  	result;
			reportHtml += `</div></div>`;							
			$('#survey-report-board').html(reportHtml);		
		},
			error: function(data){
		}});
	
}

function downloadReceipientPdf(surveyId, questionId, optionId)
{
	window.location.href = "{{url('/get-survey-recipients/')}}/"+surveyId+'/'+questionId+'/'+optionId;
	/*$.ajax({
		url: '{{url('/get-survey-recipients')}}',
		data: 'survey_id='+surveyId+'&question_id='+questionId+'&option_id='+optionId,
		xhrFields: {
                responseType: 'blob'
		},
		method: 'get',
		success: function(result){
			

		},
			error: function(data){
		}});
		$.ajax({
            cache: false,
            type: 'GET',
            url: '{{url('/get-survey-recipients')}}',
            contentType: false,
            processData: false,
            data: 'survey_id='+surveyId+'&question_id='+questionId+'&option_id='+optionId,
             //xhrFields is what did the trick to read the blob to pdf
            xhrFields: {
                responseType: 'text'
            },
            success: function (response, status, xhr) {

                var filename = "";                   
                var disposition = xhr.getResponseHeader('Content-Disposition');

                 if (disposition) {
                    var filenameRegex = /filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/;
                    var matches = filenameRegex.exec(disposition);
                    if (matches !== null && matches[1]) filename = matches[1].replace(/['"]/g, '');
                } 
                var linkelem = document.createElement('a');
                try {
                                           var blob = new Blob([response], { type: 'application/octet-stream' });                        

                    if (typeof window.navigator.msSaveBlob !== 'undefined') {
                        //   IE workaround for "HTML7007: One or more blob URLs were revoked by closing the blob for which they were created. These URLs will no longer resolve as the data backing the URL has been freed."
                        window.navigator.msSaveBlob(blob, filename);
                    } else {
                        var URL = window.URL || window.webkitURL;
                        var downloadUrl = URL.createObjectURL(blob);

                        if (filename) { 
                            // use HTML5 a[download] attribute to specify filename
                            var a = document.createElement("a");

                            // safari doesn't support this yet
                            if (typeof a.download === 'undefined') {
                                window.location = downloadUrl;
                            } else {
                                a.href = downloadUrl;
                                a.download = filename;
                                document.body.appendChild(a);
                                a.target = "_blank";
                                a.click();
                            }
                        } else {
                            window.location = downloadUrl;
                        }
                    }   

                } catch (ex) {
                    console.log(ex);
                } 
            }
        });	*/
}

function downloadFile(response) {
  var blob = new Blob([response], {type: 'application/pdf'})
  var url = URL.createObjectURL(blob);
  location.assign(url);
} 


</script>
